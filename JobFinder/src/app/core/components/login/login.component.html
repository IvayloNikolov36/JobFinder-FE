<div class="container-fluid mt-3 p-4">
  <div class="d-flex justify-content-center">
    <mat-card appearance="raised" class="half-width d-flex justify-content-center">
      <mat-card-header class="mx-auto">
        <mat-card-title class="my-3">Sign in with email</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <form [formGroup]="form" (ngSubmit)="onSubmitLoginForm(form)" class="mx-4">

          <mat-form-field class="d-flex full-width mx-auto mt-3">
            <mat-label>Email</mat-label>
            <input type="text" matInput formControlName="email" placeholder="Email...">
            @if (form.controls.email.touched && form.controls.email.errors?.['required']) {
            <mat-error>Email is mandatory!</mat-error>
            }
            @if (form.controls.email.errors?.['pattern']) {
            <mat-error>Invalid email!</mat-error>
            }
          </mat-form-field>

          <mat-form-field class="d-flex full-width mx-auto mt-3">
            <mat-label>Password</mat-label>
            <input type="password" matInput formControlName="password" placeholder="Password...">
            @if (form.controls.password.touched && form.controls.password.errors?.['required']) {
            <mat-error>Password is mandatory!</mat-error>
            }
            @if (form.controls.password.errors?.['minlength']) {
            <mat-error>Length must be at least {{ form.controls.password.errors?.['minlength'].requiredLength }}
              characters!
            </mat-error>
            }
          </mat-form-field>

          <a routerLink="/forgotten-password" class="d-flex justify-content-end me-2 mb-2">
            forgotten password?
          </a>

          <mat-divider class="mb-4 mx-auto"></mat-divider>

          <div class="d-flex justify-content-center mb-2">
            <button mat-fab extended type="submit" [disabled]="!form.valid">
              Login
            </button>
          </div>

          <div class="d-flex flex-column text-center mt-3 pt-1 fw-light">
            <div>Or Sign Up using</div>
            <div id="sign-up-menu">
              <a [matMenuTriggerFor]="menu" class="fst-italic">Sign Up</a>
              <mat-menu #menu="matMenu">
                <a mat-menu-item routerLink="/register-user">User</a>
                <a mat-menu-item routerLink="/register-company">Company</a>
              </mat-menu>
            </div>
          </div>
        </form>
      </mat-card-content>
    </mat-card>
  </div>
</div>