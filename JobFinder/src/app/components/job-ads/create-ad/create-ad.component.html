<div class="container-fluid">
  <h1 class="text-center text-primary">Create Offer</h1>
  <hr class="bg-primary w-50" style="height: 2px;" />
  <form [formGroup]="form" (submit)="createOffer()" class="w-50 mx-auto">
    <div class="form-group w-75 mx-auto">
      <label class="form-control-label" for="position">Position</label>
      <input class="form-control" id="position" formControlName="position" type="text">
    </div>
    <div class="alert alert-danger w-75 mx-auto" *ngIf="f.position.touched && f.position.errors?.required">
      This field is required!
    </div>
    <div class="alert alert-danger w-75 mx-auto" *ngIf="f.position.errors?.minlength">
      Length must be at least {{f.position.errors.minlength.requiredLength}} characters!
    </div>
    <div class="alert alert-danger w-75 mx-auto" *ngIf="f.position.errors?.maxlength">
      Length must be up to {{f.position.errors.maxlength.requiredLength}} characters!
    </div>

    <div class="form-group">
      <label class="form-control-label" for="description">Description</label>
      <textarea class="form-control" id="description" formControlName="description" type="text"></textarea>
    </div>
    <div class="alert alert-danger" *ngIf="f.description.touched && f.description.errors?.required">
      This field is required!
    </div>
    <div class="alert alert-danger" *ngIf="f.description.errors?.minlength">
      Length must be at least {{f.description.errors.minlength.requiredLength}} characters!
    </div>

    <div class="form-group w-25 mx-auto">
      <label class="form-control-label" for="daysActive">Days active</label>
      <input class="form-control" id="daysActive" formControlName="daysActive" type="number">
    </div>
    <div class="alert alert-danger" *ngIf="f.daysActive.touched && f.daysActive.errors?.required">
      This field is required!
    </div>
    <div class="alert alert-danger" *ngIf="f.daysActive.errors?.min">
      Value must be grater than or equal to {{f.daysActive.errors.min.min}}!
    </div>
    <div class="alert alert-danger" *ngIf="f.daysActive.errors?.max">
      Value must be smaller than or equal to {{f.daysActive.errors.max.max}}!
    </div>

    <div class="d-flex justify-content-around">
      <div class="form-group w-25">
        <div class="form-group">
          <label class="form-control-label" for="MinSalary">Min Salary</label>
          <input class="form-control" id="minSalary" formControlName="minSalary" type="number" min="1">
        </div>
        <div class="alert alert-danger" *ngIf="f.minSalary.errors?.min">
          Min Salary must be with positive value!
        </div>
      </div>
      <div class="form-group w25">
        <div class="form-group">
          <label class="form-group-label" for="maxSalary">Max Salary</label>
          <input class="form-control" id="maxSalary" formControlName="maxSalary" type="number" min="1">
        </div>
        <div class="alart alert-danger" *ngIf="f.maxSalary.errors?.min">
          Max Salary must be with positive value!
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-md-6">
        <div class="form-group">
          <label class="form-control-label" for="category">Job Category</label>
          <select id="category" class="form-control" (change)="changeJobCategory($event)" formControlName="jobCategoryId">
            <option value="" disabled>Choose job category</option>
            <option *ngFor="let c of jobCategories$ | async" [ngValue]="c['id']">{{c['name']}}</option>
          </select>
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-group">
          <label class="form-control-label" for="engagement">Job Engagement</label>
          <select id="engagement" class="form-control" (change)="changeJobEngagement($event)" formControlName="jobEngagementId">
            <option value="" disabled>Choose job engagement</option>
            <option *ngFor="let e of jobEngagements$ | async" [ngValue]="e['id']">{{e['name']}}</option>
          </select>
        </div>
      </div>
    </div>

    <div class="form-group w-75 mx-auto">
      <label class="form-control-label" for="location">Location</label>
      <input class="form-control" id="location" formControlName="location" type="text">
    </div>
    <div class="alert alert-danger w-75 mx-auto" *ngIf="f.location.touched && f.location.errors?.required">
      This field is required!
    </div>
    <div class="alert alert-danger w-75 mx-auto" *ngIf="f.location.errors?.minlength">
      Length must be at least {{f.location.errors.minlength.requiredLength}} characters!
    </div>
    <div class="alert alert-danger w-75 mx-auto" *ngIf="f.location.errors?.maxlength">
      Length must be up to {{f.location.errors.maxlength.requiredLength}} characters!
    </div>

    <hr class="bg-primary" style="height: 2px;" />
    <div class="d-flex justify-content-center mt-3">
      <button type="submit" [disabled]="!form.valid" class="btn btn-primary">Create</button>
    </div>
  </form>
</div>
